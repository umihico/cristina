#!/bin/bash
set -euo pipefail

cd $PROJECT_ROOT

case ${1} in
( chrome )
open -a 'Google Chrome' "http://localhost:${NEXTJS_PORT}"
;;
( dev )
open -a 'Google Chrome' "http://localhost:${NEXTJS_PORT}"
docker-compose up --build
;;
( destroy-dev )
docker-compose down -v
docker-compose run --rm sst npx sst remove --stage dev --region $AWS_DEV_REGION
;;
( deploy-dev )
docker-compose run --rm sst npx sst deploy --stage dev  --region $AWS_DEV_REGION
;;
esac

